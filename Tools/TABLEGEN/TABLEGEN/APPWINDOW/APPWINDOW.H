#pragma once
#ifndef __APPWINDOW_H__
#define __APPWINDOW_H__
//////////////////////////////////////////////////////////////////////////
#include "../TABLEGEN.H"
#include "../HTL/HTLSINGLE.H"
#include "../PROPERTYPAGES/PAGE0/PAGE0.H"
#include "../PROPERTYPAGES/PAGE1/PAGE1.H"
#include "../PROPERTYPAGES/PAGE2/PAGE2.H"
#include "../PROPERTYPAGES/PAGE3/PAGE3.H"
#include "../PROPERTYPAGES/PAGE4/PAGE4.H"
#include "../PROPERTYPAGES/PAGE5/PAGE5.H"
//////////////////////////////////////////////////////////////////////////
extern DWORD TABLE_TYPE_CHANGED;
//////////////////////////////////////////////////////////////////////////
class CMainPage:
public CResizablePropertySheetImpl<CMainPage>
{

public:

	//////////////////////////////////////////////////////////////////////////
	typedef CMainPage											thisClass;
	typedef CResizablePropertySheetImpl<CMainPage>				baseClass;
	//////////////////////////////////////////////////////////////////////////

protected:

	//////////////////////////////////////////////////////////////////////////
	bool														HasCentered;
	//////////////////////////////////////////////////////////////////////////
	UINT64&														m_TableType;
	CString&													m_FileOutputPath;
	BOOL&														m_Binary;
	BOOL&														m_Verilog;
	BOOL&														m_16Bit;
	BOOL&														m_endian;
	//////////////////////////////////////////////////////////////////////////

public:

	//////////////////////////////////////////////////////////////////////////
	CMainPage(CString& outputpath,UINT64& tabletype,BOOL& binary,BOOL& verilog,BOOL& wordsize,BOOL& endian,ATL::_U_STRINGorID title=(LPCTSTR)NULL,UINT uStartPage=0,HWND hWndParent=NULL,bool EnableDoubleBuffering=false,bool IsWizard=false);
	~CMainPage(VOID);
	//////////////////////////////////////////////////////////////////////////
	VOID OnShowWindow(BOOL,INT);
	//////////////////////////////////////////////////////////////////////////
	BEGIN_MSG_MAP_EX(thisClass)
		MSG_WM_SHOWWINDOW(OnShowWindow)
		CHAIN_MSG_MAP(baseClass)
	END_MSG_MAP()
	//////////////////////////////////////////////////////////////////////////

};
//////////////////////////////////////////////////////////////////////////
class CAppWindow:
public CMainPage
{
public:

	//////////////////////////////////////////////////////////////////////////
	typedef CAppWindow												thisClass;
	typedef CMainPage												baseClass;
	//////////////////////////////////////////////////////////////////////////

private:

	//////////////////////////////////////////////////////////////////////////
	CWindowMarker													m_SingleInstance;
	//////////////////////////////////////////////////////////////////////////
	CPropertyPage0													Page0;
	CPropertyPage1													Page1;
	CPropertyPage2													Page2;
	CPropertyPage3													Page3;
	CPropertyPage4													Page4;
	CPropertyPage5													Page5;
	//////////////////////////////////////////////////////////////////////////
	UINT64															TableType;
	CString															OutputFilePath;
	BOOL															Binary;
	BOOL															Verilog;
	BOOL															WordSize;
	BOOL															Endian;
	//////////////////////////////////////////////////////////////////////////

public:

	//////////////////////////////////////////////////////////////////////////
	CAppWindow(VOID);
	~CAppWindow(VOID);
	//////////////////////////////////////////////////////////////////////////
	BOOL Initialize(int nCmdShow);
	BOOL UnInitialize(VOID);
	//////////////////////////////////////////////////////////////////////////
	LRESULT OnTableTypeChanged(UINT, WPARAM, LPARAM, BOOL&);
	//////////////////////////////////////////////////////////////////////////
	BEGIN_MSG_MAP_EX(thisClass)
		MESSAGE_HANDLER(TABLE_TYPE_CHANGED, OnTableTypeChanged)
		CHAIN_MSG_MAP(baseClass)
	END_MSG_MAP()
	//////////////////////////////////////////////////////////////////////////

};
//////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////
#endif//__APPWINDOW_H__