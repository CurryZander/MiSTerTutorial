#include "GRNMPCH.H"
#include "CRITICALSECTION.H"
//////////////////////////////////////////////////////////////////////////
CriticalSection::CriticalSection(VOID)
{
	InitializeCriticalSection(&m_cs);
}
//////////////////////////////////////////////////////////////////////////
CriticalSection::~CriticalSection(VOID)
{
	DeleteCriticalSection(&m_cs);
}
//////////////////////////////////////////////////////////////////////////
VOID CriticalSection::Lock(VOID)
{
	EnterCriticalSection(&m_cs);
}
//////////////////////////////////////////////////////////////////////////
VOID CriticalSection::Unlock(VOID)
{
	LeaveCriticalSection(&m_cs);
}
//////////////////////////////////////////////////////////////////////////
ScopedCriticalSection::ScopedCriticalSection(CriticalSection & csResource):
m_csResource(csResource)
{
	m_csResource.Lock();
}
//////////////////////////////////////////////////////////////////////////
ScopedCriticalSection::~ScopedCriticalSection(VOID)
{
	m_csResource.Unlock();
}
//////////////////////////////////////////////////////////////////////////
